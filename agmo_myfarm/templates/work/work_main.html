{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAugqKOAcVwjdxOVtXgZDJJ1TAJ7giG8YY"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Work Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>

        body {
            display: flex;
            flex-direction: column;
            height: 100vh;
            margin: 0;
            padding: 0;
            overflow: hidden;
            
        }
        header {
            text-align: center;
        }
        main {
            display: flex;
            flex: 1;
        }
        
        .scrollable-area {
            
            overflow-y: auto; /* 세로 스크롤 활성화 */
            
        }
        .weather_content {
            display: flex;
            flex-direction: row;
        }
        .machine_page {
            background-color: #f9f5f5;
            flex: 1;
        }
        .map_page {
            flex: 2;
        }

        .date {
            margin-top : 10px;
            margin-left : 25px;
            font-size: 16px;
            font-weight: 800;
            color: #7a7979;;
        }
        .weather_icon {
            position: absolute;
            top: 130px;
            left: 30px;
           
            margin: 30px;
            z-index: 1;
            font-size: 24px;
            font-weight: 800;
        }
        .temperature {
            position: absolute;
            top: 130px;
            left: 10px;
           
            margin: 10px;
            z-index: 2;
            font-size: 32px;
            font-weight: 800;
        }
        .weather_etc {
            margin-top : 10px;
            margin-left : 40px;
            flex: 1;
            font-size: 16px;
            font-weight: 800;
            color: #7a7979;
        }

        .machine_content {
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            height: 500px;
        }
        

    </style>
</head>
<body>
    
    <header>
        <!-- 헤더 고정 -->
        {% include 'work/header.html' with content=farm_list %}
    </header>

    <main>
        <div class="machine_page">
            <div class="weather_content">
                <div class="date">
                    <p>{{ wea.weather_date }}</p>
                </div>

                <div class="weather_icon"> 
                    {% if wea.rain_sh == '없음' %}
                        {% if wea.sky_sh == '맑음' %}
                        <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-brightness-high" viewBox="0 0 16 16">
                            <path d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/>
                        </svg>
                        {% elif wea.sky_sh == '구름많음' %}
                        <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-clouds" viewBox="0 0 16 16">
                            <path d="M16 7.5a2.5 2.5 0 0 1-1.456 2.272 3.513 3.513 0 0 0-.65-.824 1.5 1.5 0 0 0-.789-2.896.5.5 0 0 1-.627-.421 3 3 0 0 0-5.22-1.625 5.587 5.587 0 0 0-1.276.088 4.002 4.002 0 0 1 7.392.91A2.5 2.5 0 0 1 16 7.5z"/>
                            <path d="M7 5a4.5 4.5 0 0 1 4.473 4h.027a2.5 2.5 0 0 1 0 5H3a3 3 0 0 1-.247-5.99A4.502 4.502 0 0 1 7 5zm3.5 4.5a3.5 3.5 0 0 0-6.89-.873.5.5 0 0 1-.51.375A2 2 0 1 0 3 13h8.5a1.5 1.5 0 1 0-.376-2.953.5.5 0 0 1-.624-.492V9.5z"/>
                        </svg>
                        {% elif wea.sky_sh == '흐림' %}
                        <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-cloud-haze2" viewBox="0 0 16 16">
                            <path d="M8.5 3a4.002 4.002 0 0 0-3.8 2.745.5.5 0 1 1-.949-.313 5.002 5.002 0 0 1 9.654.595A3 3 0 0 1 13 12H4.5a.5.5 0 0 1 0-1H13a2 2 0 0 0 .001-4h-.026a.5.5 0 0 1-.5-.445A4 4 0 0 0 8.5 3zM0 7.5A.5.5 0 0 1 .5 7h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm2 2a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-2 4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5z"/>
                        </svg>
                        {% else %}
                        <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-brightness-high" viewBox="0 0 16 16">
                            <path d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/>
                        </svg>
                        {% endif %}
                    {% elif wea.rain_sh == '비' %}
                    <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-cloud-rain-heavy" viewBox="0 0 16 16">
                        <path d="M4.176 11.032a.5.5 0 0 1 .292.643l-1.5 4a.5.5 0 1 1-.936-.35l1.5-4a.5.5 0 0 1 .644-.293zm3 0a.5.5 0 0 1 .292.643l-1.5 4a.5.5 0 1 1-.936-.35l1.5-4a.5.5 0 0 1 .644-.293zm3 0a.5.5 0 0 1 .292.643l-1.5 4a.5.5 0 1 1-.936-.35l1.5-4a.5.5 0 0 1 .644-.293zm3 0a.5.5 0 0 1 .292.643l-1.5 4a.5.5 0 0 1-.936-.35l1.5-4a.5.5 0 0 1 .644-.293zm.229-7.005a5.001 5.001 0 0 0-9.499-1.004A3.5 3.5 0 1 0 3.5 10H13a3 3 0 0 0 .405-5.973zM8.5 1a4 4 0 0 1 3.976 3.555.5.5 0 0 0 .5.445H13a2 2 0 0 1 0 4H3.5a2.5 2.5 0 1 1 .605-4.926.5.5 0 0 0 .596-.329A4.002 4.002 0 0 1 8.5 1z"/>
                    </svg>
                    {% elif wea.rain_sh == '비/눈' %}
                    <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-cloud-sleet" viewBox="0 0 16 16">
                        <path d="M13.405 4.027a5.001 5.001 0 0 0-9.499-1.004A3.5 3.5 0 1 0 3.5 10H13a3 3 0 0 0 .405-5.973zM8.5 1a4 4 0 0 1 3.976 3.555.5.5 0 0 0 .5.445H13a2 2 0 0 1 0 4H3.5a2.5 2.5 0 1 1 .605-4.926.5.5 0 0 0 .596-.329A4.002 4.002 0 0 1 8.5 1zM2.375 13.5a.25.25 0 0 1 .25.25v.57l.501-.287a.25.25 0 0 1 .248.434l-.495.283.495.283a.25.25 0 0 1-.248.434l-.501-.286v.569a.25.25 0 1 1-.5 0v-.57l-.501.287a.25.25 0 0 1-.248-.434l.495-.283-.495-.283a.25.25 0 0 1 .248-.434l.501.286v-.569a.25.25 0 0 1 .25-.25zm1.849-2.447a.5.5 0 0 1 .223.67l-.5 1a.5.5 0 1 1-.894-.447l.5-1a.5.5 0 0 1 .67-.223zM6.375 13.5a.25.25 0 0 1 .25.25v.57l.501-.287a.25.25 0 0 1 .248.434l-.495.283.495.283a.25.25 0 0 1-.248.434l-.501-.286v.569a.25.25 0 1 1-.5 0v-.57l-.501.287a.25.25 0 0 1-.248-.434l.495-.283-.495-.283a.25.25 0 0 1 .248-.434l.501.286v-.569a.25.25 0 0 1 .25-.25zm1.849-2.447a.5.5 0 0 1 .223.67l-.5 1a.5.5 0 1 1-.894-.447l.5-1a.5.5 0 0 1 .67-.223zm2.151 2.447a.25.25 0 0 1 .25.25v.57l.501-.287a.25.25 0 0 1 .248.434l-.495.283.495.283a.25.25 0 0 1-.248.434l-.501-.286v.569a.25.25 0 1 1-.5 0v-.57l-.501.287a.25.25 0 0 1-.248-.434l.495-.283-.495-.283a.25.25 0 0 1 .248-.434l.501.286v-.569a.25.25 0 0 1 .25-.25zm1.849-2.447a.5.5 0 0 1 .223.67l-.5 1a.5.5 0 1 1-.894-.447l.5-1a.5.5 0 0 1 .67-.223z"/>
                    </svg>
                    {% elif wea.rain_sh == '눈' %}
                    <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-snow" viewBox="0 0 16 16">
                        <path d="M8 16a.5.5 0 0 1-.5-.5v-1.293l-.646.647a.5.5 0 0 1-.707-.708L7.5 12.793V8.866l-3.4 1.963-.496 1.85a.5.5 0 1 1-.966-.26l.237-.882-1.12.646a.5.5 0 0 1-.5-.866l1.12-.646-.884-.237a.5.5 0 1 1 .26-.966l1.848.495L7 8 3.6 6.037l-1.85.495a.5.5 0 0 1-.258-.966l.883-.237-1.12-.646a.5.5 0 1 1 .5-.866l1.12.646-.237-.883a.5.5 0 1 1 .966-.258l.495 1.849L7.5 7.134V3.207L6.147 1.854a.5.5 0 1 1 .707-.708l.646.647V.5a.5.5 0 1 1 1 0v1.293l.647-.647a.5.5 0 1 1 .707.708L8.5 3.207v3.927l3.4-1.963.496-1.85a.5.5 0 1 1 .966.26l-.236.882 1.12-.646a.5.5 0 0 1 .5.866l-1.12.646.883.237a.5.5 0 1 1-.26.966l-1.848-.495L9 8l3.4 1.963 1.849-.495a.5.5 0 0 1 .259.966l-.883.237 1.12.646a.5.5 0 0 1-.5.866l-1.12-.646.236.883a.5.5 0 1 1-.966.258l-.495-1.849-3.4-1.963v3.927l1.353 1.353a.5.5 0 0 1-.707.708l-.647-.647V15.5a.5.5 0 0 1-.5.5z"/>
                    </svg>
                    {% elif wea.rain_sh == '소나기' %}
                    <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-cloud-rain" viewBox="0 0 16 16">
                        <path d="M4.158 12.025a.5.5 0 0 1 .316.633l-.5 1.5a.5.5 0 0 1-.948-.316l.5-1.5a.5.5 0 0 1 .632-.317zm3 0a.5.5 0 0 1 .316.633l-1 3a.5.5 0 0 1-.948-.316l1-3a.5.5 0 0 1 .632-.317zm3 0a.5.5 0 0 1 .316.633l-.5 1.5a.5.5 0 0 1-.948-.316l.5-1.5a.5.5 0 0 1 .632-.317zm3 0a.5.5 0 0 1 .316.633l-1 3a.5.5 0 1 1-.948-.316l1-3a.5.5 0 0 1 .632-.317zm.247-6.998a5.001 5.001 0 0 0-9.499-1.004A3.5 3.5 0 1 0 3.5 11H13a3 3 0 0 0 .405-5.973zM8.5 2a4 4 0 0 1 3.976 3.555.5.5 0 0 0 .5.445H13a2 2 0 0 1 0 4H3.5a2.5 2.5 0 1 1 .605-4.926.5.5 0 0 0 .596-.329A4.002 4.002 0 0 1 8.5 2z"/>
                    </svg>
                    {% else %}
                    <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-cloud-rain-heavy" viewBox="0 0 16 16">
                        <path d="M4.176 11.032a.5.5 0 0 1 .292.643l-1.5 4a.5.5 0 1 1-.936-.35l1.5-4a.5.5 0 0 1 .644-.293zm3 0a.5.5 0 0 1 .292.643l-1.5 4a.5.5 0 1 1-.936-.35l1.5-4a.5.5 0 0 1 .644-.293zm3 0a.5.5 0 0 1 .292.643l-1.5 4a.5.5 0 1 1-.936-.35l1.5-4a.5.5 0 0 1 .644-.293zm3 0a.5.5 0 0 1 .292.643l-1.5 4a.5.5 0 0 1-.936-.35l1.5-4a.5.5 0 0 1 .644-.293zm.229-7.005a5.001 5.001 0 0 0-9.499-1.004A3.5 3.5 0 1 0 3.5 10H13a3 3 0 0 0 .405-5.973zM8.5 1a4 4 0 0 1 3.976 3.555.5.5 0 0 0 .5.445H13a2 2 0 0 1 0 4H3.5a2.5 2.5 0 1 1 .605-4.926.5.5 0 0 0 .596-.329A4.002 4.002 0 0 1 8.5 1z"/>
                    </svg>
                    {% endif %}
                </div>

                <div class="temperature">
                    <p>{{ wea.temperature }}°</p>
                </div>

                <div class="weather_etc">
                    강수확률: {{ wea.is_rain }}%<br>
                    습도: {{ wea.humidity }}%<br>
                    풍속: {{ wea.wind_speed }}m/s ({{ wea.wind_direction }})<br>
                    <div style="color: black; margin-top: 6px; margin-bottom: 15px;">
                        하늘상태: {{ wea.sky_sh }}<br>
                    </div>
                </div>
            </div>
            <hr style="margin: 0;">
            <div class="machine_content scrollable-area">
                <!-- 탑뷰 -->
                <div style="display:flex;">
                    <span class="material-symbols-outlined" style="margin-right:5px; margin-left:10px; margin-top:8px; font-size: 40px;">precision_manufacturing</span>
                    <div style="flex:3; font-size: 18px; font-weight: 800; margin-top:15px; display: flex;">
                        작업기 현황 

                        <div style="position: relative; bottom: 3px; margin-left: 10px; margin-right: 10px; color:#7a7979">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-left" viewBox="0 0 16 16">
                                <path d="M10 12.796V3.204L4.519 8 10 12.796zm-.659.753-5.48-4.796a1 1 0 0 1 0-1.506l5.48-4.796A1 1 0 0 1 11 3.204v9.592a1 1 0 0 1-1.659.753z"/>
                            </svg>
                        </div>
                        <div style="position: relative; bottom: 3px; margin-left: 10px; margin-right: 7px; color:#7a7979">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-map" viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M15.817.113A.5.5 0 0 1 16 .5v14a.5.5 0 0 1-.402.49l-5 1a.502.502 0 0 1-.196 0L5.5 15.01l-4.902.98A.5.5 0 0 1 0 15.5v-14a.5.5 0 0 1 .402-.49l5-1a.5.5 0 0 1 .196 0L10.5.99l4.902-.98a.5.5 0 0 1 .415.103zM10 1.91l-4-.8v12.98l4 .8V1.91zm1 12.98 4-.8V1.11l-4 .8v12.98zm-6-.8V1.11l-4 .8v12.98l4-.8z"/>
                            </svg>
                        </div>
                        <div style="color:#7a7979">
                            {{ wea.field_name }}
                        </div>
                    </div>
                    <div style="flex:1;">
                        <a href="{% url 'work:add_work' %}">
                            <button type="button" class="btn btn-outline-secondary" style="font-size:0px; margin-top:10px; --bs-btn-padding-y: .0rem; --bs-btn-padding-x: .1rem; --bs-btn-border-radius: 0.2rem; border-width:2px; padding-bottom: 5px;">
                                <span class="material-symbols-outlined" style="display: inline-block; vertical-align: middle; line-height: 1; padding-top: 5px; font-size: 20px;">
                                    add
                                </span>
                                <div style="font-size: 14px; font-weight: 800; display: inline-block; vertical-align: middle; line-height: 1; padding-top: 5px;">작업추가</div>
                            </button> 
                        </a>
                    </div>
                </div>
                <!-- 카드뷰 -->
                {% if is_work %}
                    {% for card in work_list %}
                        {% if card.work_fields.is_selected %}
                            <div style="margin-top: 20px; display:flex; justify-content: center;">
                                <div class="card" style="width: 480px; height: 120px">
                                    <div class="card-body">
                                        <div>
                                            <!-- 왼쪽에 정렬되는 요소들 -->
                                            <div style="display: flex; align-items: center;">
                                                <!-- 작업기 아이콘 -->
                                                {% if card.machine_name == '파종기' %}
                                                    <span class="material-symbols-outlined" style="z-index: 2; position:relative; bottom:5px;">
                                                        wrist
                                                    </span>
                                                {% elif card.machine_name == '써레' %}
                                                    <span class="material-symbols-outlined" style="z-index: 2; position:relative; bottom:5px;">
                                                        auto_towing
                                                    </span>
                                                {% elif card.machine_name == '스프레이어' %}
                                                    <span class="material-symbols-outlined" style="z-index: 2; position:relative; bottom:5px;">
                                                        sprinkler
                                                    </span>
                                                {% endif %}
                                                <!-- 진행률(배경색) -->
                                                {% if card.machine_name == '파종기' %}
                                                    <span id="progressIcon{{ card.id }}" class="material-symbols-outlined" style="font-size: 40px; position: relative; right: 33px; bottom: 7px; color: red; z-index: 1;">
                                                        clock_loader_90
                                                    </span>
                                                {% elif card.machine_name == '써레' %}
                                                    <span id="progressIcon{{ card.id }}" class="material-symbols-outlined" style="font-size: 40px; position: relative; right: 33px; bottom: 7px; color: blue; z-index: 1;">
                                                        clock_loader_90
                                                    </span>
                                                {% elif card.machine_name == '스프레이어' %}
                                                    <span id="progressIcon{{ card.id }}" class="material-symbols-outlined" style="font-size: 40px; position: relative; right: 33px; bottom: 7px; color: green; z-index: 1;">
                                                        clock_loader_90
                                                    </span>
                                                {% endif %}
                                                <!-- 테두리 -->
                                                <span class="material-symbols-outlined" style="font-size: 40px; position: relative; right: 73px; bottom: 7px; z-index: 3;">
                                                    circle
                                                </span>
                                                <!-- 작업명 -->
                                                <h5 style="margin-right: 10px; font-size: 18px; font-weight: 800; position:relative; right:65px; white-space: nowrap;">{{card.machine_name}}</h5>
                                            </div>
                                        
                                            <!-- 오른쪽에 정렬되는 요소들 -->
                                            <div style="display: flex; justify-content: flex-end; position:relative; bottom:50px;">
                                                <!-- 와이파이 아이콘 -->
                                                <span class="material-symbols-outlined" style="margin-left:140px;">
                                                    wifi
                                                </span>
                                                <!-- 배터리 아이콘 -->
                                                <span class="material-symbols-outlined" style="margin-left: 10px; font-size: 30px; transform: scaleX(-1);">
                                                    battery_horiz_075
                                                </span>
                                                <!-- 배터리 퍼센트 -->
                                                <div style="font-size: 14px; margin-left: 3px; margin-top: 5px;">75%</div>
                                                <!-- 스위치 -->
                                                <span class="material-symbols-outlined" style="margin-left: 10px; font-size: 40px; position:relative; bottom:5px;">
                                                    toggle_on
                                                </span>
                                            </div>
                                        </div>
                                        <!-- 상세 내용 -->
                                        <h6 class="card-subtitle mb-2 text-body-secondary" style="margin-top: 8px; font-size: 14px; font-weight: 800; position:relative; bottom:50px;">작업명: {{ card.work_name }}</h6>
                                        <h6 class="card-subtitle mb-2 text-body-secondary" style="margin-top: 8px; font-size: 14px; font-weight: 800; position:relative; bottom:50px;">작업기간: 2024/02/08 ~ 2024/02/15</h6>
                                        <div style="display: flex;">
                                            <div class="progress" style="position:relative; bottom:54px; flex:3;" role="progressbar" aria-label="Success example" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
                                                <div class="progress-bar bg-success" style="width: 25%">작업률: 25%</div>
                                            </div>
                                            <div style="flex:1;"></div>
                                        </div>
                                        <div style="display: flex; justify-content: end; position:relative; bottom:90px; ">    
                                        <!-- 작업제거 버튼 -->
                                            <a href=#>
                                                <button id="del-{{ card.id }}" onclick="handleDelClick(this.id)" type="button" class="btn btn-outline-danger" style="margin-left: 10px; font-size:0px; --bs-btn-padding-y: .0rem; --bs-btn-padding-x: .1rem; --bs-btn-border-radius: 0.2rem; border-width:2px; padding-bottom: 5px;">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16" style="display: inline-block; vertical-align: middle; line-height: 1; padding-top: 5px;">
                                                        <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                                                    </svg>
                                                    <div style="font-size: 14px; font-weight: 800; display: inline-block; vertical-align: middle; line-height: 1; padding-top: 5px; font-size: 14px;">작업제거</div>
                                                </button> 
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endif %}
                    {% endfor %}
                {% endif %}
            </div>

        </div>
        <!-- 구글맵 도시 -->
        <div class="content map_page">  
            <div id="map" style="width: 100%; height: 96%"></div>
        </div>
        <script>
            var field_string = "{{ wea.location }}";
            var decodedString = new DOMParser().parseFromString('<!doctype html><body>' + field_string, 'text/html').body.textContent;
            var obj = JSON.parse(decodedString.replace(/'/g, '"'));
            var locationLatLng = new google.maps.LatLng(obj.lat, obj.lng);
            console.log(locationLatLng)

            // 맵을 초기화하고 표시하는 스크립트 부분
            function initMap() {
                var mapOptions = {
                    center: locationLatLng,
                    
                    zoom: 20,
                    mapTypeControl: false,
                    mapTypeId: google.maps.MapTypeId.HYBRID,
                };
                var map = new google.maps.Map(document.getElementById('map'), mapOptions);
                
            }
            // 맵을 초기화하는 함수를 호출합니다.
            window.onload = function() {
            initMap();
            };
        </script>
        <script type="text/javascript" src="{% static 'js/card.js' %}"></script>
    </main>  
</body>
</html>